wake_tower:
  alias: Wake Tower
  sequence:
  - service: switch.turn_on
    data:
      entity_id: switch.tower
  - delay: 00:00:05
  - service: switch.turn_on
    data:
      entity_id: switch.wake_on_lan_tower
  mode: single
  icon: hass:desktop-tower
tower_off:
  alias: Tower Off
  sequence:
  - service: shell_command.turn_off_tower
  - delay: 00:00:30
  - service: switch.turn_off
    data:
      entity_id: switch.tower
  mode: single
  icon: mdi:desktop-tower
bathroom_demo:
  alias: Bathroom Demo
  sequence:
  - service: light.turn_on
    data:
      entity_id: light.bathroom_light_1
  - delay: 00:00:01
  - service: light.turn_on
    data:
      entity_id: light.bathroom_light_2
  - delay: 00:00:01
  - service: light.turn_on
    data:
      entity_id: light.bathroom_light_3
  - delay: 00:00:01
  - service: light.turn_on
    data:
      entity_id: light.bathroom_light_4
  - delay: 00:00:01
  - service: light.turn_off
    data:
      entity_id: light.bathroom_light_4
  - delay: 00:00:01
  - service: light.turn_off
    data:
      entity_id: light.bathroom_light_3
  - delay: 00:00:01
  - service: light.turn_off
    data:
      entity_id: light.bathroom_light_2
  - delay: 00:00:01
  - service: light.turn_off
    data:
      entity_id: light.bathroom_light_1
  - delay: 00:00:01
  - service: scene.turn_on
    data:
      entity_id: scene.bathroom_bath
  - delay: 00:00:01
  - service: scene.turn_on
    data:
      entity_id: scene.bathroom_morning
  - delay: 00:00:01
  - service: light.turn_off
    data:
      entity_id: light.bathroom
  mode: single
  icon: mdi:shower
reset_lower_kitchen_switch_active_states:
  alias: Reset Lower Kitchen Switch Active States
  sequence:
  - choose:
    - conditions:
      - condition: state
        entity_id: input_boolean.lower_kitchen_switch_active
        state: 'on'
      sequence:
      - service: input_boolean.turn_off
        data:
          entity_id: input_boolean.lower_kitchen_switch_active
    default: []
  - choose:
    - conditions:
      - condition: state
        entity_id: input_boolean.front_floor_switch_active
        state: 'on'
      sequence:
      - service: input_boolean.turn_off
        data:
          entity_id: input_boolean.front_floor_switch_active
    default: []
  mode: single
tv_off_on:
  alias: Turn on/off TV
  sequence:
  - choose:
    - conditions:
      - condition: state
        entity_id: switch.tv_switch
        state: 'off'
      sequence:
      - service: switch.turn_on
        data:
          entity_id: switch.tv_switch
      - delay: 00:00:02
      - service: remote.send_command
        data:
          entity_id: remote.parlor_ir_remote
          device: tv
          command: power
    default:
    - service: remote.send_command
      data:
        entity_id: remote.parlor_ir_remote
        device: tv
        command: power
  mode: single
  icon: mdi:television
parlor_off:
  alias: Parlor Off
  sequence:
  - choose:
    - conditions:
      - condition: device
        type: is_on
        device_id: 611cb71e0e0411ebbb5f87403d317985
        entity_id: light.parlor
        domain: light
      sequence:
      - service: light.turn_off
        data:
          entity_id: light.parlor
    default: []
  - choose:
    - conditions:
      - type: is_power
        condition: device
        device_id: 5548196bdfae70373fa44fdefe4752c2
        entity_id: sensor.tv_switch_energy_power
        domain: sensor
        above: 40
      sequence:
      - service: script.tv_off_on
        data: {}
      - service: light.turn_off
        data:
          entity_id: switch.tv_switch
    - conditions:
      - condition: device
        type: is_on
        device_id: 5548196bdfae70373fa44fdefe4752c2
        entity_id: switch.tv_switch
        domain: switch
      sequence:
      - service: light.turn_off
        data:
          entity_id: switch.tv_switch
    default: []
  mode: single
bathroom_switch_helper_script:
  alias: Bathroom Switch Helper Script
  sequence:
  - choose:
    # Turn left <-> right lights on
    - conditions:
      - condition: template
        value_template: '{{ event == 3002 }}'
      sequence:
      - choose:
        - conditions:
          - condition: or
            conditions:
            - condition: state
              entity_id: light.bathroom
              state: 'off'
            - condition: and
              conditions:
                - condition: state
                  entity_id: light.bathroom_back_left
                  state: 'on'
                - condition: state
                  entity_id: light.bathroom_front_left
                  state: 'on'
            - condition: template
              value_template: '{{ state_attr("light.bathroom", "all_on") }}'
          sequence:
          - service: light.turn_on
            data:
              brightness: '{{ brightness }}'
              color_temp: '{{ color_temp }}'
            target:
              entity_id:
                - light.bathroom_back_right
                - light.bathroom_front_right
          - service: light.turn_off
            target:
              entity_id:
                - light.bathroom_front_left
                - light.bathroom_back_left
        default:
        - service: light.turn_on
          data:
            brightness: '{{ brightness }}'
            color_temp: '{{ color_temp }}'
          target:
            entity_id:
              - light.bathroom_front_left
              - light.bathroom_back_left
        - service: light.turn_off
          target:
            entity_id:
              - light.bathroom_front_right
              - light.bathroom_back_right

    # Toggle ceiling lights
    - conditions:
      - condition: template
        value_template: '{{ event == 2002 }}'
      sequence:
      - choose:
        - conditions:
          - condition: state
            entity_id: light.bathroom
            state: 'off'
          sequence:
          - service: light.turn_on
            data:
              brightness: '{{ brightness }}'
              color_temp: '{{ color_temp }}'
            target:
              entity_id:
                - light.bathroom
        default:
        - service: light.turn_off
          entity_id: light.bathroom
  mode: single
  icon: mdi:shower
