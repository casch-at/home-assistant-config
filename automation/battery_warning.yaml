- id: battery_warning
  alias: Battery Level Warning
  description: ''
  trigger:
  - platform: template
    value_template: >-
      {{
        states('sensor.bath_switch_battery_level') | int < 10 or
        states('sensor.bedroom_motion_battery_level') | int < 10  or
        states('sensor.front_floor_motion_battery_level') | int < 10 or
        states('sensor.lower_kitchen_motion_battery_level') | int < 10  or
        states('sensor.lower_kitchen_switch_battery_level') | int < 10  or
        states('sensor.office_multi_sensor_battery_level') | int < 10 or
        states('sensor.tablet_battery_level') | int < 10  or
        states('sensor.upstairs_multi_sensor_battery_level') | int < 10 or
        states('sensor.floor_switch_battery_level') | int < 10
      }}
  condition: []
  action:
  - service: notify.persistent_notification
    data:
      message: |-
        {{ trigger.to_state.name }} Below 10 %


        {{ trigger }}
      title: '{{ trigger.to_state.name }} Critical'
  - choose:
    - conditions:
      - condition: template
        value_template: >-
          {{ trigger.to_state.name == 'Tablet Battery Level' }}
      sequence:
      - service: switch.turn_on
        data:
          entity_id: switch.tv_usb
    default: []
  mode: queued
  max: 10
