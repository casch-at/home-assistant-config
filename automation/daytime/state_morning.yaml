- id: state_morning
  alias: Morning state
  description: ''
  trigger:
  - platform: state
    entity_id: input_select.daytime
    to: Morning
  condition: []
  action:
  - choose:
    - conditions:
      - condition: and
        conditions:
        - condition: template
          value_template: '{{ states(''sensor.front_floor_lightlevel'')|float < 100 }}'
        - condition: state
          state: 'on'
          entity_id: input_boolean.presence
      sequence:
      - service: scene.turn_on
        data:
          entity_id: scene.stairs_morning_light
    default: []
  - choose:
    - conditions:
      - condition: template
        value_template: >-
          {{
            states('weather.home') != 'snowy' and
            states('sensor.outdoor_temperature') | float > 1.0 and
            states('binary_sensor.bedroom_window_sensor') == 'off'
          }}
      sequence:
      - service: cover.open_cover
        data:
          entity_id: cover.bedroom_roller_shutter_level
    default: []
