title: Main
path: main
panel: false
icon: mdi:home-assistant
badges:
  - entity: person.christian_schwarzgruber
    show_name: false
cards:
  - type: grid
    columns: 1
    square: false
    cards:
      - type: grid
        columns: 7
        cards:
          - type: custom:button-card
            entity: light.office_lights
            icon: mdi:office-building
            template: icon_only_more_info
          - type: custom:button-card
            entity: switch.desk_switch
            template: icon_only_more_info
            icon: mdi:monitor
          - type: custom:button-card
            entity: light.kitchen_cabinet_light
            template: icon_only_more_info
          - type: custom:button-card
            entity: switch.aroma_diffuser
            template: icon_only_more_info
            icon: mdi:air-humidifier
            hold_action:
              entity: light.aroma_diffuser_light
          - type: custom:button-card
            icon: mdi:blinds
            template: icon_only
            color: green
            tap_action:
              action: navigate
              navigation_path: /lovelace/blinds
            triggers_update:
              - binary_sensor.cover_operation_to_cold
            state:
              - operator: template
                value: >-
                  [[[
                    return states['binary_sensor.cover_operation_to_cold'].state === 'on';
                  ]]]
                color: red
            lock:
              enabled: >-
                [[[
                  return states['binary_sensor.cover_operation_to_cold'].state === 'on';
                ]]]
              duration: 0
          - type: custom:button-card
            icon: mdi:home-thermometer
            template: icon_only
            color: green
            tap_action:
              action: navigate
              navigation_path: /lovelace/temperature
            lock: disabled
          - type: custom:button-card
            icon: mdi:transmission-tower
            template: icon_only
            color: green
            tap_action:
              action: navigate
              navigation_path: /lovelace/energy
            lock: disabled

      - type: grid
        cards:
          - type: grid
            columns: 2
            cards:
              - type: custom:button-card
                entity: light.nightstand_lights
                template: icon_only
                icon: mdi:bed
                hold_action:
                  action: more-info
                  entity_id: light.nightstand_lights
              - type: custom:button-card
                entity: light.bathroom_lights
                template: icon_only_more_info
              - type: custom:button-card
                entity: light.floor_lights
                template: icon_only_more_info
                icon: mdi:door
              - type: custom:button-card
                template: icon_only_more_info
                entity: light.terrace_plant_lights
          - type: grid
            columns: 1
            cards:
              - type: custom:button-card
                color_type: card
                entity: input_select.daytime
                show_state: true
                icon: mdi:sleep
                template: icon_only
                color: var( --ha-card-background, var(--card-background-color, white) )
                state:
                  - value: 'Night'
                    color: var(--paper-item-icon-active-color)
                tap_action:
                  action: more-info
                  entity: input_select.daytime
                hold_action:
                  action: more-info
                  entity: input_select.daytime
                double_tap_action:
                  action: call-service
                  service: input_select.select_option
                  service_data:
                    entity_id: input_select.daytime
                    option: Night
                  confirmation:
                    text: |
                      Do you really want to set the day state to "Night"?

                      This turns all lights and switches off!
          - type: grid
            columns: 2
            cards:
              - type: custom:button-card
                entity: switch.switches_group
                template: icon_only
                tap_action:
                  action: navigate
                  navigation_path: /lovelace/switches
                double_tap_action:
                  action: call-service
                  service: homeassistant.turn_off
                  service_data:
                    entity_id: switch.switches_group
                  confirmation:
                    text: Do you really want to turn all switches off?
              - type: custom:button-card
                entity: light.all_lights
                template: icon_only
                tap_action:
                  action: navigate
                  navigation_path: /lovelace/lights
                hold_action:
                  action: more-info
                double_tap_action:
                  action: call-service
                  service: homeassistant.turn_off
                  service_data:
                    entity_id: light.all_lights
                  confirmation:
                    text: Do you really want to turn off all lights?
              - type: custom:button-card
                icon: mdi:cctv
                template: icon_only
                entity: camera.tapo_c200_mainstream
                hold_action:
                  action: navigate
                  navigation_path: /lovelace/cameras
                triggers_update:
                  - device_tracker.tapo_c200
                state:
                  - operator: template
                    value: >-
                      [[[
                        return states['device_tracker.tapo_c200'].state === 'home';
                      ]]]
                    color: var(--paper-item-icon-active-color)
              - type: custom:button-card
                entity: person.christian_schwarzgruber
                template: icon_only
                icon: mdi:information
                tap_action:
                  action: navigate
                  navigation_path: /lovelace/status
                state:
                  - operator: template
                    value: >-
                      [[[
                        return states['person.christian_schwarzgruber'].state === 'home';
                      ]]]
                    color: var(--paper-item-icon-active-color)

      - type: grid
        columns: 7
        cards:
          - type: custom:button-card
            entity: scene.night
            template: icon_only_more_info
            styles:
              icon:
                - color: "#FFE59E"
            tap_action:
              action: call-service
              service: scene.turn_on
              service_data:
                entity_id: scene.night
          - type: custom:button-card
            entity: light.terrace_plant_lights
            template: icon_only_more_info
            styles:
              icon:
                - color: "#A54CFF"
            tap_action:
              action: call-service
              service: scene.turn_on
              service_data:
                entity_id: scene.terrace_plant_spots_purple
          - type: custom:button-card
            entity: light.office_desk_light
            template: icon_only_more_info
            styles:
              icon:
                - color: "#A54CFF"
            tap_action:
              action: call-service
              service: scene.turn_on
              service_data:
                entity_id: scene.office_desk_purple
          - type: custom:button-card
            entity: light.office_desk_light
            template: icon_only_more_info
            styles:
              icon:
                - color: "#FFFFFF"
            tap_action:
              action: call-service
              service: scene.turn_on
              service_data:
                entity_id: scene.office_desk_work_light
          - type: custom:button-card
            entity: light.kitchen_cabinet_light
            template: icon_only_more_info
            styles:
              icon:
                - color: "#FFC8C8"
            tap_action:
              action: call-service
              service: scene.turn_on
              service_data:
                entity_id: scene.kitchen_cabinet_night
          - type: custom:button-card
            entity: switch.wake_on_lan_server
            template: icon_only_more_info
            tab_action:
              action: more-info
            double_tap_action:
              action: toggle
              confirmation:
                text: Do you really want to suspend/wake the server?
          - type: custom:button-card
            entity: switch.wake_on_lan_tower
            template: icon_only_more_info
            tab_action:
              action: more-info
            double_tap_action:
              action: toggle
              confirmation:
                text: Do you really want to suspend/wake tower?

      - type: grid
        columns: 1
        square: false
        cards:
          - type: custom:button-card
            styles:
              card:
                - padding: 0%
              grid:
                - position: relative
                - grid-template-areas: >-
                    "b1 b2 b3 b4 h up down"
                - grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr
                - grid-templates-rows: min-content 1fr
            custom_fields:
              b1:
                card:
                  type: custom:button-card
                  template: desk_control
                  entity: switch.desk_control_button_1
                  double_tap_action:
                    service: switch.toggle
              b2:
                card:
                  type: custom:button-card
                  template: desk_control
                  entity: switch.desk_control_button_2
                  double_tap_action:
                    service: switch.toggle
              b3:
                card:
                  type: custom:button-card
                  template: desk_control
                  entity: switch.desk_control_button_3
                  double_tap_action:
                    service: switch.toggle
              b4:
                card:
                  type: custom:button-card
                  template: desk_control
                  entity: switch.desk_control_button_4
                  double_tap_action:
                    service: switch.toggle
              h:
                card:
                  type: custom:button-card
                  template: desk_control
                  entity: sensor.desk_control_height
                  show_state: true
                  show_icon: false
                  tap_action:
                    action: more-info
                    entity: input_number.desk_height
                  styles:
                    state:
                      - color: var(--paper-item-icon-active-color)
                      - font-size: 20px
              up:
                card:
                  type: custom:button-card
                  template: desk_control
                  entity: switch.desk_control_button_up
              down:
                card:
                  type: custom:button-card
                  template: desk_control
                  entity: switch.desk_control_button_down

      - type: grid
        columns: 6
        cards:
          - type: custom:button-card
            entity: binary_sensor.office_window_sensor
            show_icon: true
            name: "Office"
            template: name_card_round
          - type: custom:button-card
            entity: binary_sensor.bedroom_window_sensor
            show_icon: true
            name: "Bedroom"
            template: name_card_round
          - type: custom:button-card
            entity: binary_sensor.balcony_door_sensor
            show_icon: true
            name: "Balcony"
            template: name_card_round

      - type: grid
        columns: 7
        cards:
          - type: custom:button-card
            template: icon_only
            icon: mdi:cogs
            tap_action:
              action: navigate
              navigation_path: /developer-tools/yaml
            lock: disabled
          - type: custom:button-card
            template: icon_only
            icon: mdi:math-log
            tap_action:
              action: navigate
              navigation_path: /config/logs
            lock: disabled
          - type: custom:button-card
            template: icon_only
            icon: mdi:home-assistant
            tap_action:
              action: navigate
              navigation_path: /hassio/system
            lock: disabled
          - type: custom:button-card
            color_type: blank-card
          - type: custom:button-card
            color_type: blank-card
          - type: custom:button-card
            entity_id: script.shutters_down_sun
            icon: hass:window-closed
            template: icon_only
            color: green
            tap_action:
              action: call-service
              service: script.shutters_down_sun
              confirmation:
                text: Do you really want to close the shutters?
            triggers_update:
              - binary_sensor.cover_operation_to_cold
            state:
              - operator: template
                value: >-
                  [[[
                    return states['binary_sensor.cover_operation_to_cold'].state === 'on';
                  ]]]
                color: red
            lock:
              enabled: >-
                [[[
                  return states['binary_sensor.cover_operation_to_cold'].state === 'on';
                ]]]
              duration: 0
          - type: custom:button-card
            entity_id: script.shutters_up_sun
            icon: hass:window-open
            template: icon_only
            color: green
            tap_action:
              action: call-service
              service: script.shutters_up_sun
              confirmation:
                text: Do you really want to open the shutters?
            triggers_update:
              - binary_sensor.cover_operation_to_cold
            state:
              - operator: template
                value: >-
                  [[[
                    return states['binary_sensor.cover_operation_to_cold'].state === 'on';
                  ]]]
                color: red
            lock:
              enabled: >-
                [[[
                  return states['binary_sensor.cover_operation_to_cold'].state === 'on';
                ]]]
              duration: 0
