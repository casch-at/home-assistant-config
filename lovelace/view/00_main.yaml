title: Main
path: main
panel: false
icon: mdi:home-assistant
badges:
  - entity: person.christian_schwarzgruber
    show_name: false
  - entity: person.sonia_avramidis
    show_name: false
  - entity: binary_sensor.workday_sensor
    icon: mdi:briefcase
    name: 'Work'
    show_name: false
    show_icon: true
  - entity: input_boolean.presence
    icon: mdi:briefcase
    show_name: false
    show_icon: true
  - entity: calendar.work_home_office
    name: 'HO'
  - entity: calendar.work_holiday
    icon: mdi:home-city
    name: 'Vacation'
cards:
  - type: grid
    columns: 1
    square: false
    cards:
      - type: grid
        cards:
          - type: grid
            columns: 2
            cards:
              - type: custom:button-card
                entity: group.desk_and_laptop
                template: icon_only_more_info
                tap_action:
                  action: call-service
                  service: homeassistant.toggle
                  service_data:
                    entity_id: group.desk_and_laptop
                  confirmation:
                    text: Do you really want to turn on/off office?
                hold_action:
                  entity: light.office_led
              - type: custom:button-card
                entity: group.parlor
                template: icon_only_more_info
                hold_action:
                  entity: light.parlor
              - type: custom:button-card
                entity: group.bedroom
                template: icon_only
              - type: custom:button-card
                entity: light.bathroom
                template: icon_only_more_info
                icon: mdi:shower


          - type: grid
            columns: 1
            cards:
              # - type: custom:button-card
              #   entity: input_boolean.presence
              #   template: icon_only
              #   color_type: card
              #   confirmation:
              #       text: |
              #           Do you really want to toggle the presence?

              #           off -> All lights off
              #           on  -> Maybe some lights go on...
              - type: custom:button-card
                color_type: card
                entity: input_select.daytime
                show_state: true
                icon: mdi:sleep
                template: icon_only
                color: var( --ha-card-background, var(--card-background-color, white) )
                state:
                  - value: 'Night'
                    color: var(--paper-item-icon-active-color)
                tap_action:
                  action: more-info
                  entity: input_select.daytime
                hold_action:
                  action: navigate
                  navigation_path: /lovelace/status
                double_tap_action:
                  action: call-service
                  service: input_select.select_option
                  service_data:
                    entity_id: input_select.daytime
                    option: Night
                  confirmation:
                    text: |
                      Do you really want to set the day state to "Night"?

                      This turns all lights and switches off!

          - type: grid
            columns: 2
            cards:
              - type: custom:button-card
                entity: light.stairs_led
                template: icon_only_more_info
                icon: mdi:stairs
              - type: custom:button-card
                entity: light.all_lights
                template: icon_only
                tap_action:
                  action: call-service
                  service: homeassistant.turn_off
                  service_data:
                    entity_id: group.all_lights_extra
                  confirmation:
                    text: Do you really want to turn off all lights?
                hold_action:
                  action: navigate
                  navigation_path: /lovelace/lights
              - type: custom:button-card
                entity: group.switches
                template: icon_only
                tap_action:
                  action: call-service
                  service: homeassistant.turn_off
                  service_data:
                    entity_id: group.switches
                  confirmation:
                    text: Do you really want to turn all switches off?
                hold_action:
                  action: navigate
                  navigation_path: /lovelace/switches
              - type: custom:button-card
                icon: mdi:cctv
                template: icon_only
                entity: camera.tapo_c200_mainstream
                hold_action:
                  action: navigate
                  navigation_path: /lovelace/cameras


      - type: grid
        columns: 6
        cards:
          - type: custom:button-card
            entity: light.lower_kitchen
            template: icon_only_more_info
            icon: mdi:coffee

          - type: custom:button-card
            entity: light.front_floor
            template: icon_only_more_info
            icon: mdi:door

          - type: custom:button-card
            entity: switch.tv_switch
            template: icon_only
            tap_action:
              action: call-service
              service: script.tv_off_on
            hold_action:
              action: navigate
              navigation_path: /lovelace/tv
            lock:
              enabled: >
                [[[
                  return states['script.tv_off_on'].state == "on";
                ]]]
          - type: custom:button-card
            icon: mdi:blinds
            template: icon_only
            tap_action:
              action: navigate
              navigation_path: /lovelace/blinds
          - type: custom:button-card
            icon: mdi:air-conditioner
            template: icon_only
            tap_action:
              action: navigate
              navigation_path: /lovelace/ac
          - type: custom:button-card
            icon: mdi:transmission-tower
            template: icon_only
            tap_action:
              action: navigate
              navigation_path: /lovelace/energy

      - type: grid
        columns: 8
        cards:
          - type: custom:button-card
            entity: switch.tower
            template: icon_only
            hold_action:
              action: call-service
              service: script.tower_off
              confirmation:
                text: Do you really want to turn off the Tower?
            double_tap_action:
              action: call-service
              service: script.wake_tower
              confirmation:
                text: Do you really want to wake the Tower?

          - type: custom:button-card
            entity: scene.bathroom_bath
            template: icon_only_more_info
            icon: mdi:hot-tub
            styles:
              icon:
                - color: "#FFA69E"
            tap_action:
              action: call-service
              service: scene.turn_on
              service_data:
                entity_id: scene.bathroom_bath
          - type: custom:button-card
            entity: scene.bathroom_morning
            template: icon_only_more_info
            icon: mdi:hot-tub
            styles:
              icon:
                - color: "#3D48FF"
            tap_action:
              action: call-service
              service: scene.turn_on
              service_data:
                entity_id: scene.bathroom_morning
          - type: custom:button-card
            entity: scene.chill
            template: icon_only_more_info
            icon: mdi:palette
            styles:
              icon:
                - color: "#0BC129"
            tap_action:
              action: call-service
              service: scene.turn_on
              service_data:
                entity_id: scene.chill
          - type: custom:button-card
            entity: scene.love
            template: icon_only_more_info
            styles:
              icon:
                - color: "#C10B0B"
            tap_action:
              action: call-service
              service: scene.turn_on
              service_data:
                entity_id: scene.love
          - type: custom:button-card
            entity: scene.night
            template: icon_only_more_info
            styles:
              icon:
                - color: "#FFE59E"
            tap_action:
              action: call-service
              service: scene.turn_on
              service_data:
                entity_id: scene.night

      - type: grid
        columns: 6
        cards:
          - type: custom:button-card
            template: icon_only
            icon: mdi:restart
            color: red
            tap_action:
              action: call-service
              service: homeassistant.restart
              confirmation:
                text: Restart Home Assistant?
          - type: custom:button-card
            template: icon_only
            icon: mdi:check
            color: green
            tap_action:
              action: call-service
              service: homeassistant.check_config
          - type: custom:button-card
            template: icon_only
            icon: mdi:cog
            tap_action:
              action: call-service
              service: homeassistant.reload_core_config
          - type: custom:button-card
            icon: mdi:script-text
            template: icon_only
            tap_action:
              action: call-service
              service: script.reload
          - type: custom:button-card
            template: icon_only
            icon: mdi:home-automation
            tap_action:
              action: call-service
              service: automation.reload
          - type: custom:button-card
            template: icon_only
            icon: mdi:home-group
            tap_action:
              action: call-service
              service: group.reload
