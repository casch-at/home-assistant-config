title: Energy
path: energy
icon: mdi:transmission-tower
panel: true
badges: []
cards:
  - type: vertical-stack
    cards:
      - type: custom:button-card
        styles:
          grid:
            - grid-template-areas: >-
                "n wn tn"
                "n1 w1 t1"
                "n2 w2 t2"
                "n3 w3 t3"
                "n4 w4 t4"
                "n5 w5 t5"
            - grid-template-columns: min-content 1fr 1fr
            - grid-template-rows: min-content 1fr 1fr 1fr 1fr 1fr
          custom_fields:
            n1:
              - justify-self: start
              - padding-left: 10px
              - font-weight: bold
            n2:
              - justify-self: start
              - padding-left: 10px
              - font-weight: bold
            n3:
              - justify-self: start
              - padding-left: 10px
              - font-weight: bold
            n4:
              - justify-self: start
              - padding-left: 10px
              - font-weight: bold
            n5:
              - justify-self: start
              - padding-left: 10px
              - font-weight: bold
              - margin-bottom: -10px
              - margin-top: 10px
              - color: green
            w5:
              - margin-bottom: -10px
              - margin-top: 10px
            t5:
              - margin-bottom: -10px
              - margin-top: 10px
            wn:
              - font-weight: bold
              - margin-bottom: 10px
              - margin-top: -10px
            tn:
              - font-weight: bold
              - margin-bottom: 10px
              - margin-top: -10px
        custom_fields:
          wn: 'W'
          tn: 'kWh'
          n1: 'TV'
          n2: 'Desk'
          n3: 'Laptop'
          n4: 'Nightstand'
          n5: 'Total'
          w1:
            card:
              type: custom:button-card
              entity: sensor.tv_switch_energy_power
              template: embedded_card
          w2:
            card:
              type: custom:button-card
              entity: sensor.desk_switch_energy_power
              template: embedded_card
          w3:
            card:
              type: custom:button-card
              entity: sensor.laptop_switch_energy_power
              template: embedded_card
          w4:
            card:
              type: custom:button-card
              entity: sensor.nightstand_switch_energy_power
              template: embedded_card
          t1:
            card:
              type: custom:button-card
              entity: sensor.tv_switch_energy_total
              template: embedded_card
          t2:
            card:
              type: custom:button-card
              entity: sensor.desk_switch_energy_total
              template: embedded_card
          t3:
            card:
              type: custom:button-card
              entity: sensor.laptop_switch_energy_total
              template: embedded_card
          t4:
            card:
              type: custom:button-card
              entity: sensor.nightstand_switch_energy_total
              template: embedded_card
          w5:
            card:
              type: custom:button-card
              state_display: >
                [[[
                  return `<b style="color: green;">${parseFloat(states['sensor.nightstand_switch_energy_power'].state) +
                    parseFloat(states['sensor.tv_switch_energy_power'].state) +
                    parseFloat(states['sensor.desk_switch_energy_power'].state) +
                    parseFloat(states['sensor.laptop_switch_energy_power'].state)}</b>`
                ]]]
              template: embedded_card
          t5:
            card:
              type: custom:button-card
              state_display: >
                [[[
                  return `<b style="color: green;">${(parseFloat(states['sensor.nightstand_switch_energy_total'].state) +
                    parseFloat(states['sensor.tv_switch_energy_total'].state) +
                    parseFloat(states['sensor.desk_switch_energy_total'].state) +
                    parseFloat(states['sensor.laptop_switch_energy_total'].state)).toFixed(3)}</b>`
                ]]]
              template: embedded_card

      - type: custom:battery-state-card
        title: Battery Level
        sort_by_level: asc
        color_gradient:
          - '#FF0000'
          - '#FFFF00'
          - '#00FF00'
        entities:
          - entity: sensor.tablet_battery_level
            name: Tablet
            tap_action: more-info
            charging_state:
              entity_id: binary_sensor.tablet_is_charging
              state: "on"
              icon: mdi:flash
              color: yellow
          - entity: sensor.huawei_p20_battery_level
            name: Huawei P20
            tap_action: more-info
            charging_state:
              entity_id: binary_sensor.huawei_p20_is_charging
              state: "on"
              icon: mdi:flash
              color: yellow
          - entity: sensor.galaxy_a2_battery_level
            name: Galaxy A2
            tap_action: more-info
            charging_state:
              entity_id: binary_sensor.galaxy_a2_is_charging
              state: "on"
              icon: mdi:flash
              color: yellow
          - entity: sensor.bedroom_motion_battery_level
            name: Bedroom motion sensor
            tap_action: more-info
          - entity: sensor.lower_kitchen_motion_battery_level
            name: Lower kitchen motion sensor
            tap_action: more-info
          - entity: sensor.front_floor_motion_battery_level
            name: Front floor motion sensor
            tap_action: more-info
          - entity: sensor.bath_switch_battery_level
            name: Bath switch
            tap_action: more-info
          - entity: sensor.lower_kitchen_switch_battery_level
            name: Lower kitchen switch
            tap_action: more-info
          - entity: sensor.office_multi_sensor_battery_level
            name: Office multi sensor
            tap_action: more-info
          - entity: sensor.upstairs_multi_sensor_battery_level
            name: Upstairs multi sensor
            tap_action: more-info
