title: Status
path: status
icon: mdi:information
panel: true
badges: []
cards:
  - type: vertical-stack
    cards:
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            color_type: blank-card
          - type: custom:button-card
            entity: person.christian_schwarzgruber
            show_entity_picture: true
            show_state: true
            styles:
              card:
                - background: rgba(0, 0, 0, 0)
              entity_picture:
                - border-radius: 50%
                - -webkit-box-shadow: 0px 0px 3px 3px var(--button-card-light-color)
                - box-shadow: 0px 0px 3px 3px var(--button-card-light-color)
            state_display: >
              [[[
                if (entity.state == "home")
                  return "is at home";
                else if (entity.state == "not_home")
                  return "is away";
                else
                  return "unknown";
              ]]]
          - type: custom:button-card
            entity: person.sonia_avramidis
            show_entity_picture: true
            show_state: true
            styles:
              card:
                - background: rgba(0, 0, 0, 0)
              entity_picture:
                - border-radius: 50%
                - -webkit-box-shadow: 0px 0px 3px 3px var(--button-card-light-color)
                - box-shadow: 0px 0px 3px 3px var(--button-card-light-color)
            state_display: >
              [[[
                if (entity.state == "home")
                  return "is at home";
                else if (entity.state == "not_home")
                  return "is away";
                else
                  return "unknown";
              ]]]
          - type: custom:button-card
            color_type: blank-card

      - type: weather-forecast
        entity: weather.home

      - type: horizontal-stack
        cards:
          - type: custom:button-card
            entity: input_boolean.presence
            show_state: true
            styles:
              card:
                - height: 100px
            confirmation:
                text: |
                    Do you really want to toggle the presence?

                    off -> All lights off
                    on  -> Maybe some lights go on...
          - type: custom:button-card
            entity: sun.sun
            show_state: true
            styles:
              card:
                - height: 100px
          - type: custom:button-card
            entity: sensor.daylight
            show_state: true
            name: Sun
            styles:
              card:
                - height: 100px

      - type: horizontal-stack
        cards:
          - type: custom:button-card
            entity: binary_sensor.workday_sensor
            show_state: true
            styles:
              card:
                - height: 100px
          - type: custom:button-card
            entity: input_select.daytime
            show_state: true
            styles:
              card:
                - height: 100px
          - type: custom:button-card
            color_type: blank-card

      - type: horizontal-stack
        cards:
          - type: custom:button-card
            entity: sensor.hacs
            name: HACS
            show_state: true
            icon: mdi:update
            styles:
              card:
                - height: 100px
          - type: custom:button-card
            name: Restart HA
            icon: mdi:restart
            icon_height: 50px
            styles:
              card:
                - height: 100px
              icon:
                - color: "#C10B0B"
            tap_action:
              action: call-service
              service: homeassistant.restart
              confirmation:
                text: Restart Home Assistant?
          - type: custom:button-card
            entity: binary_sensor.updater
            show_state: true
            icon: mdi:update
            styles:
              card:
                - height: 100px

      - type: custom:mini-graph-card
        entities:
          - entity: sensor.lower_kitchen_lightlevel
            name: Lower kitchen
          - entity: sensor.front_floor_lightlevel
            name: Front Floor
          - entity: sensor.bedroom_lightlevel
            name: Bedroom
        name: Lightlevel
        hours_to_show: 24   # 24 default
        points_per_hour: 12
        line_width: 3
        smoothing: true
        align_icon: left
        align_header: left
        show:
          fill: false

      - type: custom:mini-graph-card
        entities:
          - entity: sensor.lower_kitchen_temperature_fixed
            name: Lower Kitchen
          - entity: sensor.front_floor_temperature_fixed
            name: Front Floor
          - entity: sensor.office_temperature
            name: Office
          - entity: sensor.upstairs_temperature
            name: Upstairs
        name: Temperature
        hours_to_show: 24   # 24 default
        points_per_hour: 6
        line_width: 3
        smoothing: true
        align_icon: left
        align_header: left
        show:
          fill: false

      - type: custom:mini-graph-card
        entities:
          - entity: sensor.office_humidity
            name: Office
          - entity: sensor.upstairs_humidity
            name: Upstairs
        name: Humidity
        hours_to_show: 24   # 24 default
        points_per_hour: 6
        line_width: 3
        smoothing: true
        align_icon: left
        align_header: left
        show:
          fill: false

      - type: custom:mini-graph-card
        entities:
          - entity: sensor.office_pressure
            name: Office
          - entity: sensor.upstairs_pressure
            name: Upstairs
        name: Pressure
        hours_to_show: 24   # 24 default
        points_per_hour: 6
        line_width: 3
        smoothing: true
        align_icon: left
        align_header: left
        show:
          fill: false

      - type: custom:mini-graph-card
        entities:
          - entity: binary_sensor.lower_kitchen_motion
            name: Lower Kitchen
          - entity: binary_sensor.front_floor_motion
            name: Front Floor
          - entity: binary_sensor.bedroom_motion
            name: Bedroom
        name: Motion
        aggregate_func: max
        hours_to_show: 12   # 24 default
        points_per_hour: 30 # 0.5 default
        line_width: 1
        smoothing: false
        align_icon: left
        align_header: left
        show:
          labels: true
          points: false
        state_map:
          - value: "off"
            label: Clear
          - value: "on"
            label: Detected

      - type: custom:battery-state-card
        title: Battery Level
        # secondary_info: last_updated
        sort_by_level: asc
        icon: mdi:battery-flash
        color_gradient:
          - '#FF0000'
          - '#FFFF00'
          - '#00FF00'
        entities:
          - entity: sensor.tablet_battery_level
            name: Tablet
            tap_action: more-info
            charging_state:
              entity_id: binary_sensor.tablet_is_charging
              state: "on"
              icon: mdi:flash
              color: yellow
          - entity: sensor.huawei_p20_battery_level
            name: Huawei P20
            tap_action: more-info
            charging_state:
              entity_id: binary_sensor.huawei_p20_is_charging
              state: "on"
              icon: mdi:flash
              color: yellow
          - entity: sensor.galaxy_a2_battery_level
            name: Galaxy A2
            tap_action: more-info
            charging_state:
              entity_id: binary_sensor.galaxy_a2_is_charging
              state: "on"
              icon: mdi:flash
              color: yellow
          - entity: sensor.bedroom_motion_battery_level
            name: Bedroom motion sensor
            tap_action: more-info
          - entity: sensor.lower_kitchen_motion_battery_level
            name: Lower kitchen motion sensor
            tap_action: more-info
          - entity: sensor.front_floor_motion_battery_level
            name: Front floor motion sensor
            tap_action: more-info
          - entity: sensor.bath_switch_battery_level
            name: Bath switch
            tap_action: more-info
          - entity: sensor.lower_kitchen_switch_battery_level
            name: Lower kitchen switch
            tap_action: more-info
          - entity: sensor.office_multi_sensor_battery_level
            name: Office multi sensor
            tap_action: more-info
          - entity: sensor.upstairs_multi_sensor_battery_level
            name: Upstairs multi sensor
            tap_action: more-info

      - type: custom:mini-graph-card
        hours_to_show: 2400
        name: Covid Status Austria
        points_per_hour: 0.0416666666667
        line_width: 2
        show:
          fill: false
        entities:
          - entity: sensor.austria_coronavirus_confirmed
            name: Confirmed
          - entity: sensor.austria_coronavirus_recovered
            name: Recovered
          - entity: sensor.austria_coronavirus_current
            name: Current
          - entity: sensor.austria_coronavirus_deaths
            name: Deaths
