title: Air Conditioner
path: ac
icon: mdi:air-conditioner
panel: false
badges: []
cards:
  - type: grid
    columns: 1
    cards:
      - type: grid
        columns: 7
        square: false
        cards:
          - type: custom:button-card
            template: icon_only
            entity: switch.fan_speed_switch
            icon: >
              [[[
                if (states['binary_sensor.fan_speed_low'].state == 'on')
                  return "mdi:fan-speed-1";
                else if (states['binary_sensor.fan_speed_mid'].state == 'on')
                  return "mdi:fan-speed-2";
                else if (states['binary_sensor.fan_speed_high'].state == 'on')
                  return "mdi:fan-speed-3";
                else
                  return "mdi:fan-off";
              ]]]
            state:
              - operator: template
                value: >-
                  [[[
                    return (states['binary_sensor.fan_speed_low'].state == 'on' ||
                            states['binary_sensor.fan_speed_mid'].state == 'on' ||
                            states['binary_sensor.fan_speed_high'].state == 'on');
                  ]]]
                color: var(--paper-item-icon-active-color)
            double_tap_action:
              action: call-service
              service: switch.turn_on
              service_data:
                entity_id: switch.fan_off_switch
          - type: custom:button-card
            template: icon_only
            entity: switch.fan_mode_switch
            icon: >-
              [[[
                if (states['binary_sensor.fan_mode_fan'].state == 'on')
                  return "mdi:alpha-f-circle-outline";
                else if (states['binary_sensor.fan_mode_tree'].state == 'on')
                  return "mdi:alpha-t-circle-outline";
                else if (states['binary_sensor.fan_mode_night'].state == 'on')
                  return "mdi:alpha-n-circle-outline";
                else
                  return "mdi:form-select";
              ]]]
            state:
              - operator: template
                value: >-
                  [[[
                    return ((states['binary_sensor.fan_mode_fan'].state == 'on' ||
                            states['binary_sensor.fan_mode_tree'].state == 'on' ||
                            states['binary_sensor.fan_mode_night'].state == 'on')
                            &&
                            (states['binary_sensor.fan_speed_low'].state == 'on' ||
                             states['binary_sensor.fan_speed_mid'].state == 'on' ||
                             states['binary_sensor.fan_speed_high'].state == 'on'));
                  ]]]
                color: var(--paper-item-icon-active-color)
            double_tap_action:
              service_data:
                entity_id: entity
          - type: custom:button-card
            template: icon_only
            entity: switch.fan_swing_switch
            state:
              - operator: template
                value: >-
                  [[[
                    return states['binary_sensor.fan_swing'].state == 'on';
                  ]]]
                color: var(--paper-item-icon-active-color)
          - type: custom:button-card
            template: icon_only
            entity: switch.fan_mist_switch
            state:
              - operator: template
                value: >-
                  [[[
                    return states['binary_sensor.fan_mist'].state == 'on';
                  ]]]
                color: var(--paper-item-icon-active-color)
