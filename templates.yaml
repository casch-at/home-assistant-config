- sensor:
    - name: Floor Helper Motion Sensor Temperature Fixed
      unique_id: mysensor0001
      state: >-
        {{
          (states('sensor.floor_helper_motion_sensor_temperature') | float(0.0) + 1.8) | round(2)
        }}
      device_class: temperature
      state_class: measurement
      unit_of_measurement: '°C'
    - name: Floor Motion Sensor Temperature Fixed
      unique_id: mysensor0002
      state: >-
        {{
          (states('sensor.floor_motion_sensor_temperature') | float(0.0) + 1.8) | round(2)
        }}
      device_class: temperature
      state_class: measurement
      unit_of_measurement: '°C'
    - name: Outdoor Temperature
      unique_id: mysensor0003
      state: >-
        {{
          state_attr('weather.home', 'temperature') | float(0.0)
        }}
      device_class: temperature
      state_class: measurement
      unit_of_measurement: '°C'
    - name: Outdoor Humidity
      unique_id: mysensor0004
      state: >-
        {{
          state_attr('weather.home', 'humidity') | float(0.0)
        }}
      device_class: humidity
      state_class: measurement
      unit_of_measurement: '%'
    - name: Outdoor Pressure
      unique_id: mysensor0005
      state: >-
        {{
          state_attr('weather.home', 'pressure') | int
        }}
      device_class: pressure
      state_class: measurement
      unit_of_measurement: 'hPa'
    - name: Home Energy Power
      unique_id: mysensor0006
      state: >-
        {{
          states('sensor.bedroom_shutter_energy_power') | int(0) +
          states('sensor.parlor_shutter_energy_power') | int(0) +
          states('sensor.bathroom_mirror_light_energy_power') | int(0) +
          states('sensor.office_back_light_energy_power') | int(0) +
          states('sensor.office_front_light_energy_power') | int(0) +
          states('sensor.bathroom_radiator_switch_energy_power') | int(0) +
          states('sensor.3d_printer_switch_energy_power') | int(0) +
          states('sensor.desk_switch_energy_power') | int(0) +
          states('sensor.laptop_switch_energy_power') | int(0) +
          states('sensor.generic1_switch_energy_power') | int(0)
        }}
      device_class: power
      state_class: measurement
      unit_of_measurement: 'W'
    - name: Home Energy Power Total
      unique_id: mysensor0007
      state: >-
        {{
          states('sensor.bedroom_shutter_energy_total') | int(0) +
          states('sensor.parlor_shutter_energy_total') | int(0) +
          states('sensor.bathroom_mirror_light_energy_total') | int(0) +
          states('sensor.office_back_light_energy_total') | int(0) +
          states('sensor.office_front_light_energy_total') | int(0) +
          states('sensor.bathroom_radiator__switch_energy_total') | float(0.0) +
          states('sensor.3d_printer_switch_energy_total') | float(0.0) +
          states('sensor.desk_switch_energy_total') | float(0.0) +
          states('sensor.laptop_switch_energy_total') | float(0.0) +
          states('sensor.generic1_switch_energy_total') | float(0.0)
        }}
      device_class: energy
      state_class: total
      unit_of_measurement: 'kWh'
    - name: Daytime Light Brightness
      unique_id: mysensor0008
      state: >-
        {% if states('input_select.daytime') == 'Morning' or states('input_select.daytime') == 'Daytimes' -%}
          254
        {% elif states('input_select.daytime') == 'Evening' -%}
          135
        {% elif states('input_select.daytime') == 'Night' -%}
          80
        {% endif %}
    - name:  Daytime Light Color Temp
      unique_id: mysensor0009
      state: >-
        {% if states('input_select.daytime') == 'Morning' or states('input_select.daytime') == 'Daytimes' -%}
          180
        {% elif states('input_select.daytime') == 'Evening' -%}
          350
        {% elif states('input_select.daytime') == 'Night' -%}
          480
        {% endif %}
    - name: Parlor Shutter Energy Power
      unique_id: mysensor0010
      state: >-
        {{
          states('sensor.parlor_shutter_up_energy_power') | int(0) +
          states('sensor.parlor_shutter_down_energy_power') | int(0)
        }}
      device_class: power
      state_class: measurement
      unit_of_measurement: 'W'
    - name: Parlor Shutter Energy Total
      unique_id: mysensor0011
      state: >-
        {{
          states('sensor.parlor_shutter_up_energy_power') | int(0) +
          states('sensor.parlor_shutter_down_energy_power') | int(0)
        }}
      device_class: energy
      state_class: total
      unit_of_measurement: 'kWh'
    - name: Bedroom Shutter Energy Power
      unique_id: mysensor0012
      state: >-
        {{
          states('sensor.bedroom_shutter_up_energy_power') | int(0) +
          states('sensor.bedroom_shutter_down_energy_power') | int(0)
        }}
      device_class: power
      state_class: measurement
      unit_of_measurement: 'W'
    - name: Bedroom Shutter Energy Total
      unique_id: mysensor0013
      state: >-
        {{
          states('sensor.bedroom_shutter_up_energy_power') | int(0) +
          states('sensor.bedroom_shutter_down_energy_power') | int(0)
        }}
      device_class: energy
      state_class: total
      unit_of_measurement: 'kWh'

- binary_sensor:
    - name: Cover Operation To Cold
      unique_id: binary_sensor0001
      device_class: cold
      state: >-
        {{
            states('weather.home') == 'snowy'
          or
            states('sensor.outdoor_temperature') | float(0.0) <= -10.0
        }}
    - name: Christian Schwarzgruber Alaram
      unique_id: binary_sensor0003
      state: >-
        {{
          not
            is_state('sensor.phone_christian_next_alarm', 'unavailable')
          and
            (as_timestamp(states('sensor.phone_christian_next_alarm')) - 60) | timestamp_custom('%F, %H:%M')
              == as_timestamp(states('sensor.date_time_iso')) | timestamp_custom('%F, %H:%M')
          and
            states('person.christian_schwarzgruber') == 'home'
        }}
    - name: Door Window Sensors
      unique_id: binary_sensor0004
      state: >-
        {{
            states('binary_sensor.balcony_door_sensor') == 'on'
          or
            states('binary_sensor.parlor_window_sensor') == 'on'
          or
            states('binary_sensor.office_window_sensor') == 'on'
          or
            states('binary_sensor.lower_kitchen_window_sensor') == 'on'
          or
            states('binary_sensor.upstairs_window_sensor') == 'on'
          or
            states('binary_sensor.bedroom_window_sensor') == 'on'
        }}
    - name: Update Available Sensor
      unique_id: binary_sensor0005
      state: >-
        {{
            states('binary_sensor.home_assistant_versions_update_available') == 'on'
          or
            states('sensor.hacs') | int(0) >= 1
        }}
